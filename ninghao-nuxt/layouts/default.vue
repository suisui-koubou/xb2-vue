<template>
    <div class="app">
        <header>
            <div>
                <span>ğŸ„</span> <NuxtLink to="/">{{ name }}</NuxtLink>
            </div>
            <nav>
                <div>
                    <NuxtLink to="/posts">å†…å®¹</NuxtLink>
                </div>
                <div v-if="currentUser">
                    <NuxtLink to="/create">å‘å¸ƒ</NuxtLink>
                </div>
                <div>
                    <NuxtLink to="/about">å…³äº</NuxtLink>
                </div>
                <div class="login-box">
                    <div v-if="!currentUser">
                        <NuxtLink to="/login" class=''>ç™»å½•</NuxtLink>
                    </div>
                    <div v-else>
                        å½“å‰ç”¨æˆ·: {{ currentUser.name }} | 
                        <a @click="useLogout" style="text-decoration: underline;">é€€å‡º</a>
                    </div>
                </div>
            </nav>
        </header>
        <main>
            <!-- æ’æ§½ç”¨æ¥æ˜¾ç¤ºç»„ä»¶ -->
            <slot></slot>
        </main>
    </div>
</template>

<!-- è¿™é‡Œçš„ setup æ˜¯å¿…é¡»çš„ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆå‘¢??? setupæœ‰ç”¨å—?-->
<script setup>

const {name} = useAppConfig(); 
const currentUser = useState('currentUser');




</script>


<style>
@import '../assets/styles/default.css';
</style>

